<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registro Clínico – Hospital Hanga Roa</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="assets/css/main.css" />
</head>
<body>
  <!-- Barra superior -->
  <div class="topbar">
    <select id="titleSelect" class="inp" style="width:auto;">
      <option value="1">Informe médico de traslado - Hospital Hanga Roa</option>
      <option value="2" selected>Evolución médica (FECHA) - Hospital Hanga Roa</option>
      <option value="3">Epicrisis médica</option>
      <option value="4">Epicrisis médica de traslado</option>
      <option value="5">Otro (personalizado)</option>
      <option value="6">Informe médico - Hospital Hanga Roa</option>
    </select>
    <button id="btnPrint" class="btn" type="button">Imprimir / Guardar PDF</button>
    <button id="toggleEdit" class="btn" type="button">Editar secciones</button>
    <button id="exportJson" class="btn" type="button" title="Exportar registro (.json)">Exportar</button>
    <label class="btn" for="importJson" title="Importar registro (.json)">Importar</label>
    <input id="importJson" type="file" accept="application/json" style="display:none" />
  </div>

  <div class="wrap">
    <div class="sheet" id="sheet">
      <img id="logoLeft" src="https://iili.io/FEirDCl.png" class="absolute top-2 left-2 w-16 h-auto opacity-80" alt="Logo Izquierdo">
      <img id="logoRight" src="https://iili.io/FEirQjf.png" class="absolute top-2 right-2 w-16 h-auto opacity-80" alt="Logo Derecho">

      <!-- Panel edición -->
      <div id="editPanel" class="edit-panel">
        <div class="text-sm font-semibold text-slate-700">Edición</div>
        <button id="addSecBtn" class="btn" type="button">Agregar sección</button>
        <button id="delSecBtn" class="btn" type="button">Eliminar última sección</button>
        <hr class="my-1">
        <div class="text-xs text-slate-500">Campos del paciente</div>
        <button id="addPatientFieldBtn" class="btn" type="button" title="Agregar nuevo campo en Información del Paciente">Agregar campo</button>
        <button id="restorePatientBtn" class="btn" type="button" title="Restaurar campos por defecto">Restaurar campos</button>
        <hr class="my-1">
        <button id="restoreBtn" class="btn" type="button" title="Restaurar estructura y contenido por defecto">Restaurar todo</button>
      </div>

      <!-- Título principal -->
      <div id="titleDisplay" class="title" contenteditable="true">Evolución médica (____) - Hospital Hanga Roa</div>

      <!-- Datos Paciente (editable: títulos y filas eliminables) -->
      <div class="sec" id="sec-datos">
        <div class="subtitle" contenteditable="true">Información del Paciente</div>
        <div class="grid-2" id="patientGrid"></div>
      </div>

      <!-- Secciones dinámicas -->
      <div id="sectionsContainer"></div>

      <!-- Datos médico -->
      <div class="sec" style="margin-top:12px;">
        <div class="grid-2">
          <div class="row"><div class="lbl">Nombre médico</div><input class="inp" id="medico"></div>
          <div class="row"><div class="lbl">Especialidad</div><input class="inp" id="esp"></div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="assets/js/main.js"></script>
</body>
</html>
