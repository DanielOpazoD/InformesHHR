:root{ --gap-y:6px; --fs:13px; }
body{ font-family: Arial, sans-serif; font-size: var(--fs); color:#1f2937; background:#fff; margin:0; }
.topbar{ position:sticky; top:0; z-index:10000; background:#111827; color:#fff; padding:8px 12px; display:flex; gap:8px; align-items:center; justify-content:flex-end; box-shadow:0 2px 6px rgba(0,0,0,.2); }
.topbar .btn{ background:#374151; color:#fff; border:0; border-radius:8px; padding:6px 10px; cursor:pointer; display:inline-flex; align-items:center; gap:6px; }
.topbar .btn:hover{ background:#4b5563; }
.topbar .inp{ background:#1f2937; color:#fff; border:1px solid #4b5563; border-radius:8px; padding:6px 8px; }

.wrap{ padding:12px; }
.sheet{ position:relative; max-width:900px; margin:0 auto; background:#fff; border:1px solid #e5e7eb; border-radius:8px; padding:10px 12px; }
.grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:4px 8px; }
.lbl{ font-weight:600; color:#1e40af; margin-bottom:2px; }
.inp, .txt{ width:100%; border:1px solid #d1d5db; border-radius:6px; padding:6px 8px; line-height:1.25; }
.txt{ min-height:88px; }
.sec{ margin-top:10px; position:relative; }
.title{ font-weight:800; color:#1e40af; text-align:center; margin:6px 0 8px; font-size:16px; }
.subtitle[contenteditable="true"]{ font-weight:700; color:#111827; margin:6px 0 4px; }
.row{ display:grid; grid-template-columns:140px 1fr auto; gap:6px; align-items:center; margin-bottom:var(--gap-y); }
.row .row-del{ display:none; }

/* Panel edici√≥n */
.edit-panel{ position:fixed; right:12px; top:56px; z-index:9999; display:none; background:#fff; border:1px solid #e5e7eb; border-radius:8px; padding:8px; box-shadow:0 10px 24px rgba(0,0,0,.12); flex-direction:column; gap:6px; }
.btn{ display:inline-flex; align-items:center; gap:6px; background:#1e40af; color:#fff; border:0; border-radius:8px; padding:6px 10px; cursor:pointer; }
.btn:hover{ background:#1b3796; }

.sec-del{ position:absolute; top:-8px; right:-8px; width:22px; height:22px; border-radius:999px; border:none; background:#ef4444; color:#fff; font-weight:700; line-height:22px; text-align:center; cursor:pointer; box-shadow:0 1px 2px rgba(0,0,0,.15); display:none; }
.edit-mode .sec-del{ display:inline-flex; align-items:center; justify-content:center; }
.edit-mode #sec-datos .row .row-del{ display:inline-flex; align-items:center; justify-content:center; background:#ef4444; color:#fff; border:0; border-radius:8px; padding:2px 8px; cursor:pointer; }
.edit-mode #sec-datos .lbl{ outline:1px dashed #93c5fd; padding:2px 4px; border-radius:4px; }

.ai-drawer{ position:fixed; top:0; right:0; height:100vh; width:400px; max-width:100%; background:#f8fafc; border-left:1px solid #e5e7eb; box-shadow:none; transform:translateX(100%); transition:transform .25s ease, box-shadow .25s ease; z-index:9998; display:flex; }
.ai-drawer.is-open{ transform:translateX(0); box-shadow:-12px 0 30px rgba(15,23,42,.25); }
.ai-drawer-inner{ display:flex; flex-direction:column; gap:12px; padding:16px; width:100%; }
.ai-resize-handle{ position:absolute; top:0; left:-6px; width:6px; height:100%; cursor:col-resize; }
.ai-drawer-header{ display:flex; align-items:flex-start; justify-content:space-between; gap:12px; }
.ai-drawer-title{ margin:0; font-size:1.15rem; font-weight:700; color:#0f172a; }
.ai-drawer-subtitle{ margin:2px 0 0; font-size:.85rem; color:#475569; }
.ai-header-actions{ display:flex; gap:6px; }
.ai-close-btn,.ai-ghost-btn{ border:0; background:transparent; border-radius:999px; width:32px; height:32px; display:inline-flex; align-items:center; justify-content:center; cursor:pointer; font-size:1rem; }
.ai-close-btn:hover{ background:#fee2e2; color:#b91c1c; }
.ai-ghost-btn{ color:#1d4ed8; }
.ai-ghost-btn:hover{ background:#e0f2fe; }
.ai-panel-settings{ background:#fff; border:1px solid #e2e8f0; border-radius:12px; padding:12px; display:none; }
.ai-panel-settings.is-visible{ display:block; animation:fadeIn .2s ease; }
.ai-settings-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(180px,1fr)); gap:10px; }
.ai-field{ display:flex; flex-direction:column; gap:4px; font-size:.8rem; color:#0f172a; }
.ai-field input,.ai-field select{ border:1px solid #cbd5f5; border-radius:8px; padding:6px 8px; font-size:.85rem; background:#fff; }
.ai-check{ display:flex; align-items:center; gap:6px; font-size:.8rem; color:#334155; }
.ai-settings-hint{ margin:8px 0 0; font-size:.75rem; color:#64748b; }
.ai-tabs{ display:grid; grid-template-columns:repeat(2,1fr); gap:8px; }
.ai-tab{ border:0; border-radius:10px; padding:10px; font-weight:600; cursor:pointer; background:#e2e8f0; color:#475569; }
.ai-tab.is-active{ background:#2563eb; color:#fff; box-shadow:0 8px 24px rgba(37,99,235,.3); }
.ai-section-picker{ display:none; flex-direction:column; gap:4px; font-size:.78rem; color:#312e81; background:#eef2ff; border:1px solid #c7d2fe; border-radius:10px; padding:10px; }
.ai-section-picker select{ border:1px solid #a5b4fc; border-radius:8px; padding:6px; font-size:.85rem; }
.ai-section-picker.is-visible{ display:flex; }
.ai-quick-actions{ display:grid; grid-template-columns:repeat(auto-fit, minmax(120px,1fr)); gap:8px; }
.ai-quick-actions button{ border:1px solid #e2e8f0; border-radius:10px; background:#fff; padding:8px; font-size:.78rem; color:#0f172a; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:6px; box-shadow:0 1px 2px rgba(0,0,0,.06); }
.ai-quick-actions button:hover{ border-color:#94a3b8; }
.ai-quick-actions button:disabled{ opacity:.4; cursor:not-allowed; }
.ai-messages{ flex:1; overflow-y:auto; border:1px solid #e2e8f0; border-radius:14px; padding:12px; background:#fff; display:flex; flex-direction:column; gap:12px; }
.ai-message{ max-width:90%; border-radius:18px; padding:10px 14px; font-size:.85rem; line-height:1.45; box-shadow:0 1px 2px rgba(15,23,42,.1); }
.ai-message.user{ margin-left:auto; background:#1d4ed8; color:#fff; border-bottom-right-radius:6px; }
.ai-message.assistant{ background:#f8fafc; border:1px solid #dbeafe; color:#0f172a; border-bottom-left-radius:6px; }
.ai-message .ai-apply{ margin-top:6px; display:inline-flex; align-items:center; gap:4px; border:1px solid #c7d2fe; background:#eef2ff; color:#3730a3; border-radius:999px; padding:4px 10px; font-size:.7rem; cursor:pointer; }
.ai-message .ai-apply:hover{ background:#d4dcff; }
.ai-empty{ text-align:center; color:#94a3b8; font-size:.85rem; }
.ai-empty-icon{ font-size:2rem; margin:0; }
.ai-empty-hint{ font-size:.75rem; }
.ai-error{ display:none; margin-top:-4px; color:#b91c1c; font-size:.78rem; border:1px solid #fecaca; background:#fee2e2; border-radius:10px; padding:8px; }
.ai-error.is-visible{ display:block; }
.ai-input{ border:1px solid #e2e8f0; border-radius:14px; padding:10px; background:#fff; display:flex; flex-direction:column; gap:8px; }
.ai-input textarea{ width:100%; border:0; resize:none; font-size:.9rem; line-height:1.4; font-family:inherit; min-height:60px; }
.ai-input textarea:focus{ outline:none; }
.ai-send{ align-self:flex-end; border:0; border-radius:999px; padding:8px 16px; background:#2563eb; color:#fff; font-weight:600; cursor:pointer; }
.ai-send:disabled{ opacity:.5; cursor:not-allowed; }
.ai-input-hint{ text-align:center; font-size:.7rem; color:#94a3b8; margin:0; }
.ai-markdown{ line-height:1.6; }
.ai-loading{ font-size:.8rem; color:#64748b; }

@keyframes fadeIn{ from{ opacity:0; transform:translateY(-4px); } to{ opacity:1; transform:translateY(0); } }

@media print{
  .topbar, .edit-panel, .ai-drawer{ display:none !important; }
  html, body{ height:auto !important; overflow:visible !important; }
  .sheet{ border:none; border-radius:0; padding:14mm; max-width:unset; overflow:visible !important; }
  .txt{ min-height:70px; overflow:visible !important; }
  *::-webkit-scrollbar{ display:none !important; }
  @page { margin:14mm; }
}
